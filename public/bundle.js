var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function a(e){e.forEach(t)}function o(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function s(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function p(){return u(" ")}function f(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function d(e,t){t=""+t,e.data!==t&&(e.data=t)}let h;function v(e){h=e}function g(e){(function(){if(!h)throw new Error("Function called outside component initialization");return h})().$$.on_mount.push(e)}const m=[],_=[],$=[],y=[],w=Promise.resolve();let x=!1;function b(e){$.push(e)}function N(){const e=new Set;do{for(;m.length;){const e=m.shift();v(e),k(e.$$)}for(;_.length;)_.pop()();for(let t=0;t<$.length;t+=1){const n=$[t];e.has(n)||(n(),e.add(n))}$.length=0}while(m.length);for(;y.length;)y.pop()();x=!1}function k(e){e.fragment&&(e.update(e.dirty),a(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(b))}const C=new Set;let S;function q(){S={r:0,c:[],p:S}}function A(){S.r||a(S.c),S=S.p}function K(e,t){e&&e.i&&(C.delete(e),e.i(t))}function M(e,t,n,a){if(e&&e.o){if(C.has(e))return;C.add(e),S.c.push(()=>{C.delete(e),a&&(n&&e.d(1),a())}),e.o(t)}}function B(e,t){M(e,1,1,()=>{t.delete(e.key)})}function L(e,n,r){const{fragment:l,on_mount:i,on_destroy:c,after_update:s}=e.$$;l.m(n,r),b(()=>{const n=i.map(t).filter(o);c?c.push(...n):a(n),e.$$.on_mount=[]}),s.forEach(b)}function E(e,t){e.$$.fragment&&(a(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function U(e,t){e.$$.dirty||(m.push(e),x||(x=!0,w.then(N)),e.$$.dirty=n()),e.$$.dirty[t]=!0}function D(t,o,r,l,i,c){const s=h;v(t);const u=o.props||{},p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:n(),dirty:null};let f=!1;var d;p.ctx=r?r(t,u,(e,n,a=n)=>(p.ctx&&i(p.ctx[e],p.ctx[e]=a)&&(p.bound[e]&&p.bound[e](a),f&&U(t,e)),n)):u,p.update(),f=!0,a(p.before_update),p.fragment=l(p.ctx),o.target&&(o.hydrate?p.fragment.l((d=o.target,Array.from(d.childNodes))):p.fragment.c(),o.intro&&K(t.$$.fragment),L(t,o.target,o.anchor),N()),v(s)}class F{$destroy(){E(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function T(t){var n,a,o,r,h,v,g,m,_,$,y=new Date(t.article.publishedAt).toLocaleDateString("en-NZ")+"",w=t.article.description+"";return{c(){n=s("div"),a=s("div"),o=u(y),r=u(": "),h=u(w),v=u(" "),g=p(),m=s("a"),_=u("Click or tap to read story"),f(m,"href",$=t.article.url),f(m,"target","_blank"),f(m,"rel","noopener noreferrer"),f(m,"class","svelte-8icsyf"),f(a,"class","svelte-8icsyf"),f(n,"class","article svelte-8icsyf")},m(e,t){i(e,n,t),l(n,a),l(a,o),l(a,r),l(a,h),l(a,v),l(a,g),l(a,m),l(m,_)},p(e,t){e.article&&y!==(y=new Date(t.article.publishedAt).toLocaleDateString("en-NZ")+"")&&d(o,y),e.article&&w!==(w=t.article.description+"")&&d(h,w),e.article&&$!==($=t.article.url)&&f(m,"href",$)},i:e,o:e,d(e){e&&c(n)}}}function Z(e,t,n){let{article:a}=t;return e.$set=(e=>{"article"in e&&n("article",a=e.article)}),{article:a}}class j extends F{constructor(e){super(),D(this,e,Z,T,r,["article"])}}const R={"New Zealand":"https://newsapi.org/v2/top-headlines?country=nz&apiKey=",Australia:"https://newsapi.org/v2/top-headlines?country=au&apiKey=",UK:"https://newsapi.org/v2/top-headlines?country=gb&apiKey=",USA:"https://newsapi.org/v2/top-headlines?country=us&apiKey=",BBC:"https://newsapi.org/v2/top-headlines?sources=bbc-news&apiKey=",Singapore:"https://newsapi.org/v2/top-headlines?country=sg&apiKey=",Reuters:"https://newsapi.org/v2/top-headlines?sources=reuters&apiKey=","National Geographic":"https://newsapi.org/v2/top-headlines?sources=national-geographic&apiKey="},G="027fe0ba771349fa87775b60c62ba426";function H(e,t,n){const a=Object.create(e);return a.article=t[n],a}function I(e){var t,n;return{c(){t=s("h2"),n=u(e.feedName),f(t,"class","svelte-14q7xrp")},m(e,a){i(e,t,a),l(t,n)},p(e,t){e.feedName&&d(n,t.feedName)},d(e){e&&c(t)}}}function O(t){var n;return{c(){(n=s("p")).textContent="Loading...",f(n,"class","loading svelte-14q7xrp")},m(e,t){i(e,n,t)},p:e,d(e){e&&c(n)}}}function P(e){var t,n,a,o=[],r=new Map;let l=e.articles;const u=e=>e.article.title;for(let t=0;t<l.length;t+=1){let n=H(e,l,t),a=u(n);r.set(a,o[t]=z(a,n))}return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=p(),(n=s("div")).innerHTML='<a class="back-to-top-link svelte-14q7xrp" href="#top">Back to Top</a>',f(n,"class","back-to-top-link-container svelte-14q7xrp")},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);i(e,t,r),i(e,n,r),a=!0},p(e,n){const a=n.articles;q(),o=function(e,t,n,a,o,r,l,i,c,s,u,p){let f=e.length,d=r.length,h=f;const v={};for(;h--;)v[e[h].key]=h;const g=[],m=new Map,_=new Map;for(h=d;h--;){const e=p(o,r,h),i=n(e);let c=l.get(i);c?a&&c.p(t,e):(c=s(i,e)).c(),m.set(i,g[h]=c),i in v&&_.set(i,Math.abs(h-v[i]))}const $=new Set,y=new Set;function w(e){K(e,1),e.m(i,u),l.set(e.key,e),u=e.first,d--}for(;f&&d;){const t=g[d-1],n=e[f-1],a=t.key,o=n.key;t===n?(u=t.first,f--,d--):m.has(o)?!l.has(a)||$.has(a)?w(t):y.has(o)?f--:_.get(a)>_.get(o)?(y.add(a),w(t)):($.add(o),f--):(c(n,l),f--)}for(;f--;){const t=e[f];m.has(t.key)||c(t,l)}for(;d;)w(g[d-1]);return g}(o,e,u,1,n,a,r,t.parentNode,B,z,t,H),A()},i(e){if(!a){for(let e=0;e<l.length;e+=1)K(o[e]);a=!0}},o(e){for(let e=0;e<o.length;e+=1)M(o[e]);a=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&(c(t),c(n))}}}function z(e,t){var n,a,o=new j({props:{article:t.article}});return{key:e,first:null,c(){n=u(""),o.$$.fragment.c(),this.first=n},m(e,t){i(e,n,t),L(o,e,t),a=!0},p(e,t){var n={};e.articles&&(n.article=t.article),o.$set(n)},i(e){a||(K(o.$$.fragment,e),a=!0)},o(e){M(o.$$.fragment,e),a=!1},d(e){e&&c(n),E(o,e)}}}function J(e){var t,n,a,o,r,u,d,h,v,g,m,_,$,y,w,x,b,N,k,C,S;function B(e,t){return t.loading?O:""!==t.feedName?I:void 0}var L=B(0,e),E=L&&L(e),U=null!==e.articles&&P(e);return{c(){var l,i,c,C;(t=s("header")).innerHTML='<h1 id="top" class="svelte-14q7xrp">News Feeds</h1>',n=p(),a=s("main"),o=s("div"),r=s("label"),u=s("select"),(d=s("option")).textContent="Select a Feed",(h=s("option")).textContent="New Zealand",(v=s("option")).textContent="Australia",(g=s("option")).textContent="UK",(m=s("option")).textContent="USA",(_=s("option")).textContent="BBC",($=s("option")).textContent="Singapore",(y=s("option")).textContent="Reuters",(w=s("option")).textContent="National Geographic",x=p(),E&&E.c(),b=p(),U&&U.c(),N=p(),(k=s("footer")).innerHTML='<a target="_blank" href="https://newsapi.org/" rel="noopener noreferrer" class="svelte-14q7xrp">\n\t\t\t      Powered by NewsAPI.org\n\t\t\t    </a>',f(t,"class","svelte-14q7xrp"),d.__value="Message",d.value=d.__value,h.__value="New Zealand",h.value=h.__value,v.__value="Australia",v.value=v.__value,g.__value="UK",g.value=g.__value,m.__value="USA",m.value=m.__value,_.__value="BBC",_.value=_.__value,$.__value="Singapore",$.value=$.__value,y.__value="Reuters",y.value=y.__value,w.__value="National Geographic",w.value=w.__value,f(u,"id","feeds"),u.value="Message",f(u,"class","svelte-14q7xrp"),f(r,"for","feeds"),f(o,"class","select-style svelte-14q7xrp"),f(k,"class","svelte-14q7xrp"),f(a,"class","container svelte-14q7xrp"),l=u,i="change",c=e.changeFeed,l.addEventListener(i,c,C),S=(()=>l.removeEventListener(i,c,C))},m(e,c){i(e,t,c),i(e,n,c),i(e,a,c),l(a,o),l(o,r),l(r,u),l(u,d),l(u,h),l(u,v),l(u,g),l(u,m),l(u,_),l(u,$),l(u,y),l(u,w),l(a,x),E&&E.m(a,null),l(a,b),U&&U.m(a,null),l(a,N),l(a,k),C=!0},p(e,t){L===(L=B(0,t))&&E?E.p(e,t):(E&&E.d(1),(E=L&&L(t))&&(E.c(),E.m(a,b))),null!==t.articles?U?(U.p(e,t),K(U,1)):((U=P(t)).c(),K(U,1),U.m(a,N)):U&&(q(),M(U,1,1,()=>{U=null}),A())},i(e){C||(K(U),C=!0)},o(e){M(U),C=!1},d(e){e&&(c(t),c(n),c(a)),E&&E.d(),U&&U.d(),S()}}}function Q(e,t,n){let a=!1,o="",r=null;function l(e){n("loading",a=!0);const t=new Request(`https://cors-anywhere.herokuapp.com/${e}${G}`);fetch(t).then(e=>e.json()).then(e=>{n("loading",a=!1),n("articles",r=e.articles)}).catch(e=>console.log(e))}return g(()=>{const e=window.localStorage.getItem("favourite");if(e){n("feedName",o=e),l(R[e])}}),{loading:a,feedName:o,articles:r,changeFeed:function(e){e.preventDefault();const t=R[e.target.value];n("feedName",o=e.target.value),l(t),window.localStorage.setItem("favourite",o)}}}return new class extends F{constructor(e){super(),D(this,e,Q,J,r,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
