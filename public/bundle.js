var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function a(e){e.forEach(t)}function r(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function i(e){e.parentNode.removeChild(e)}function s(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function p(){return u(" ")}function f(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function d(e,t){t=""+t,e.data!==t&&(e.data=t)}let h;function v(e){h=e}function g(e){(function(){if(!h)throw new Error("Function called outside component initialization");return h})().$$.on_mount.push(e)}const m=[],_=[],$=[],y=[],w=Promise.resolve();let x=!1;function b(e){$.push(e)}function N(){const e=new Set;do{for(;m.length;){const e=m.shift();v(e),k(e.$$)}for(;_.length;)_.pop()();for(let t=0;t<$.length;t+=1){const n=$[t];e.has(n)||(n(),e.add(n))}$.length=0}while(m.length);for(;y.length;)y.pop()();x=!1}function k(e){e.fragment&&(e.update(e.dirty),a(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(b))}const C=new Set;let S;function q(){S={r:0,c:[],p:S}}function A(){S.r||a(S.c),S=S.p}function K(e,t){e&&e.i&&(C.delete(e),e.i(t))}function M(e,t,n,a){if(e&&e.o){if(C.has(e))return;C.add(e),S.c.push((()=>{C.delete(e),a&&(n&&e.d(1),a())})),e.o(t)}}function B(e,t){M(e,1,1,(()=>{t.delete(e.key)}))}function L(e,n,o){const{fragment:l,on_mount:c,on_destroy:i,after_update:s}=e.$$;l.m(n,o),b((()=>{const n=c.map(t).filter(r);i?i.push(...n):a(n),e.$$.on_mount=[]})),s.forEach(b)}function E(e,t){e.$$.fragment&&(a(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function U(e,t){e.$$.dirty||(m.push(e),x||(x=!0,w.then(N)),e.$$.dirty=n()),e.$$.dirty[t]=!0}function D(t,r,o,l,c,i){const s=h;v(t);const u=r.props||{},p=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:n(),dirty:null};let f=!1;p.ctx=o?o(t,u,((e,n,a=n)=>(p.ctx&&c(p.ctx[e],p.ctx[e]=a)&&(p.bound[e]&&p.bound[e](a),f&&U(t,e)),n))):u,p.update(),f=!0,a(p.before_update),p.fragment=l(p.ctx),r.target&&(r.hydrate?p.fragment.l(function(e){return Array.from(e.childNodes)}(r.target)):p.fragment.c(),r.intro&&K(t.$$.fragment),L(t,r.target,r.anchor),N()),v(s)}class F{$destroy(){E(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function T(e){var t,n,a,r,o,h,v,g,m,_=new Date(e.article.publishedAt).toLocaleDateString("en-NZ")+"",$=e.article.description+"";return{c(){t=s("div"),n=u(_),a=u(": "),r=u($),o=u(" "),h=p(),v=s("a"),g=u("Click or tap to read story"),f(v,"href",m=e.article.url),f(v,"target","_blank"),f(v,"rel","noopener noreferrer"),f(v,"class","svelte-1w7apb1"),f(t,"class","svelte-1w7apb1")},m(e,i){c(e,t,i),l(t,n),l(t,a),l(t,r),l(t,o),l(t,h),l(t,v),l(v,g)},p(e,t){e.article&&_!==(_=new Date(t.article.publishedAt).toLocaleDateString("en-NZ")+"")&&d(n,_),e.article&&$!==($=t.article.description+"")&&d(r,$),e.article&&m!==(m=t.article.url)&&f(v,"href",m)},d(e){e&&i(t)}}}function Z(t){var n,a=t.article.description&&T(t);return{c(){n=s("div"),a&&a.c(),f(n,"class","article svelte-1w7apb1")},m(e,t){c(e,n,t),a&&a.m(n,null)},p(e,t){t.article.description?a?a.p(e,t):((a=T(t)).c(),a.m(n,null)):a&&(a.d(1),a=null)},i:e,o:e,d(e){e&&i(n),a&&a.d()}}}function j(e,t,n){let{article:a}=t;return e.$set=e=>{"article"in e&&n("article",a=e.article)},{article:a}}class R extends F{constructor(e){super(),D(this,e,j,Z,o,["article"])}}const G={"New Zealand":"https://newsapi.org/v2/top-headlines?country=nz&apiKey=",Australia:"https://newsapi.org/v2/top-headlines?country=au&apiKey=",UK:"https://newsapi.org/v2/top-headlines?country=gb&apiKey=",USA:"https://newsapi.org/v2/top-headlines?country=us&apiKey=",BBC:"https://newsapi.org/v2/top-headlines?sources=bbc-news&apiKey=",Singapore:"https://newsapi.org/v2/top-headlines?country=sg&apiKey=",Reuters:"https://newsapi.org/v2/top-headlines?sources=reuters&apiKey=","National Geographic":"https://newsapi.org/v2/top-headlines?sources=national-geographic&apiKey="};function H(e,t,n){const a=Object.create(e);return a.article=t[n],a}function I(e){var t,n;return{c(){t=s("h2"),n=u(e.feedName),f(t,"class","svelte-14q7xrp")},m(e,a){c(e,t,a),l(t,n)},p(e,t){e.feedName&&d(n,t.feedName)},d(e){e&&i(t)}}}function O(t){var n;return{c(){(n=s("p")).textContent="Loading...",f(n,"class","loading svelte-14q7xrp")},m(e,t){c(e,n,t)},p:e,d(e){e&&i(n)}}}function P(e){var t,n,a,r=[],o=new Map;let l=e.articles;const u=e=>e.article.title;for(let t=0;t<l.length;t+=1){let n=H(e,l,t),a=u(n);o.set(a,r[t]=z(a,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=p(),(n=s("div")).innerHTML='<a class="back-to-top-link svelte-14q7xrp" href="#top">Back to Top</a>',f(n,"class","back-to-top-link-container svelte-14q7xrp")},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);c(e,t,o),c(e,n,o),a=!0},p(e,n){const a=n.articles;q(),r=function(e,t,n,a,r,o,l,c,i,s,u,p){let f=e.length,d=o.length,h=f;const v={};for(;h--;)v[e[h].key]=h;const g=[],m=new Map,_=new Map;for(h=d;h--;){const e=p(r,o,h),c=n(e);let i=l.get(c);i?a&&i.p(t,e):(i=s(c,e),i.c()),m.set(c,g[h]=i),c in v&&_.set(c,Math.abs(h-v[c]))}const $=new Set,y=new Set;function w(e){K(e,1),e.m(c,u),l.set(e.key,e),u=e.first,d--}for(;f&&d;){const t=g[d-1],n=e[f-1],a=t.key,r=n.key;t===n?(u=t.first,f--,d--):m.has(r)?!l.has(a)||$.has(a)?w(t):y.has(r)?f--:_.get(a)>_.get(r)?(y.add(a),w(t)):($.add(r),f--):(i(n,l),f--)}for(;f--;){const t=e[f];m.has(t.key)||i(t,l)}for(;d;)w(g[d-1]);return g}(r,e,u,1,n,a,o,t.parentNode,B,z,t,H),A()},i(e){if(!a){for(let e=0;e<l.length;e+=1)K(r[e]);a=!0}},o(e){for(let e=0;e<r.length;e+=1)M(r[e]);a=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&(i(t),i(n))}}}function z(e,t){var n,a,r=new R({props:{article:t.article}});return{key:e,first:null,c(){n=u(""),r.$$.fragment.c(),this.first=n},m(e,t){c(e,n,t),L(r,e,t),a=!0},p(e,t){var n={};e.articles&&(n.article=t.article),r.$set(n)},i(e){a||(K(r.$$.fragment,e),a=!0)},o(e){M(r.$$.fragment,e),a=!1},d(e){e&&i(n),E(r,e)}}}function J(e){var t,n,a,r,o,u,d,h,v,g,m,_,$,y,w,x,b,N,k,C,S;function B(e,t){return t.loading?O:""!==t.feedName?I:void 0}var L=B(0,e),E=L&&L(e),U=null!==e.articles&&P(e);return{c(){var l,c,i,C;(t=s("header")).innerHTML='<h1 id="top" class="svelte-14q7xrp">News Feeds</h1>',n=p(),a=s("main"),r=s("div"),o=s("label"),u=s("select"),(d=s("option")).textContent="Select a Feed",(h=s("option")).textContent="New Zealand",(v=s("option")).textContent="Australia",(g=s("option")).textContent="UK",(m=s("option")).textContent="USA",(_=s("option")).textContent="BBC",($=s("option")).textContent="Singapore",(y=s("option")).textContent="Reuters",(w=s("option")).textContent="National Geographic",x=p(),E&&E.c(),b=p(),U&&U.c(),N=p(),(k=s("footer")).innerHTML='<a target="_blank" href="https://newsapi.org/" rel="noopener noreferrer" class="svelte-14q7xrp">\n\t\t\t      Powered by NewsAPI.org\n\t\t\t    </a>',f(t,"class","svelte-14q7xrp"),d.__value="Message",d.value=d.__value,h.__value="New Zealand",h.value=h.__value,v.__value="Australia",v.value=v.__value,g.__value="UK",g.value=g.__value,m.__value="USA",m.value=m.__value,_.__value="BBC",_.value=_.__value,$.__value="Singapore",$.value=$.__value,y.__value="Reuters",y.value=y.__value,w.__value="National Geographic",w.value=w.__value,f(u,"id","feeds"),u.value="Message",f(u,"class","svelte-14q7xrp"),f(o,"for","feeds"),f(r,"class","select-style svelte-14q7xrp"),f(k,"class","svelte-14q7xrp"),f(a,"class","container svelte-14q7xrp"),l=u,c="change",i=e.changeFeed,l.addEventListener(c,i,C),S=()=>l.removeEventListener(c,i,C)},m(e,i){c(e,t,i),c(e,n,i),c(e,a,i),l(a,r),l(r,o),l(o,u),l(u,d),l(u,h),l(u,v),l(u,g),l(u,m),l(u,_),l(u,$),l(u,y),l(u,w),l(a,x),E&&E.m(a,null),l(a,b),U&&U.m(a,null),l(a,N),l(a,k),C=!0},p(e,t){L===(L=B(0,t))&&E?E.p(e,t):(E&&E.d(1),(E=L&&L(t))&&(E.c(),E.m(a,b))),null!==t.articles?U?(U.p(e,t),K(U,1)):((U=P(t)).c(),K(U,1),U.m(a,N)):U&&(q(),M(U,1,1,(()=>{U=null})),A())},i(e){C||(K(U),C=!0)},o(e){M(U),C=!1},d(e){e&&(i(t),i(n),i(a)),E&&E.d(),U&&U.d(),S()}}}function Q(e,t,n){let a=!1,r="",o=null;function l(e){n("loading",a=!0);const t=new Request(`https://cors-anywhere.herokuapp.com/${e}027fe0ba771349fa87775b60c62ba426`);fetch(t).then((e=>e.json())).then((e=>{n("loading",a=!1),n("articles",o=e.articles)})).catch((e=>console.log(e)))}return g((()=>{const e=window.localStorage.getItem("favourite");if(e){n("feedName",r=e);l(G[e])}})),{loading:a,feedName:r,articles:o,changeFeed:function(e){e.preventDefault();const t=G[e.target.value];n("feedName",r=e.target.value),l(t),window.localStorage.setItem("favourite",r)}}}return new class extends F{constructor(e){super(),D(this,e,Q,J,o,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
