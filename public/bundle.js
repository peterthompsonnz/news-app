var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function a(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function i(e){e.parentNode.removeChild(e)}function s(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function f(){return u(" ")}function d(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function p(e,t){t=""+t,e.data!==t&&(e.data=t)}let h;function g(e){h=e}function v(e){(function(){if(!h)throw new Error("Function called outside component initialization");return h})().$$.on_mount.push(e)}const m=[],$=[],_=[],y=[],w=Promise.resolve();let x=!1;function b(e){_.push(e)}function N(){const e=new Set;do{for(;m.length;){const e=m.shift();g(e),k(e.$$)}for(;$.length;)$.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];e.has(n)||(n(),e.add(n))}_.length=0}while(m.length);for(;y.length;)y.pop()();x=!1}function k(e){e.fragment&&(e.update(e.dirty),r(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(b))}const C=new Set;let q;function M(){q={r:0,c:[],p:q}}function A(){q.r||r(q.c),q=q.p}function S(e,t){e&&e.i&&(C.delete(e),e.i(t))}function j(e,t,n,r){if(e&&e.o){if(C.has(e))return;C.add(e),q.c.push(()=>{C.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function B(e,t){j(e,1,1,()=>{t.delete(e.key)})}function L(e,n,o){const{fragment:l,on_mount:c,on_destroy:i,after_update:s}=e.$$;l.m(n,o),b(()=>{const n=c.map(t).filter(a);i?i.push(...n):r(n),e.$$.on_mount=[]}),s.forEach(b)}function E(e,t){e.$$.fragment&&(r(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function z(e,t){e.$$.dirty||(m.push(e),x||(x=!0,w.then(N)),e.$$.dirty=n()),e.$$.dirty[t]=!0}function D(t,a,o,l,c,i){const s=h;g(t);const u=a.props||{},f=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:n(),dirty:null};let d=!1;var p;f.ctx=o?o(t,u,(e,n,r=n)=>(f.ctx&&c(f.ctx[e],f.ctx[e]=r)&&(f.bound[e]&&f.bound[e](r),d&&z(t,e)),n)):u,f.update(),d=!0,r(f.before_update),f.fragment=l(f.ctx),a.target&&(a.hydrate?f.fragment.l((p=a.target,Array.from(p.childNodes))):f.fragment.c(),a.intro&&S(t.$$.fragment),L(t,a.target,a.anchor),N()),g(s)}class F{$destroy(){E(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function K(t){var n,r,a,o,h,g,v,m,$,_,y=new Date(t.article.publishedAt).toLocaleDateString("en-NZ")+"",w=t.article.description+"";return{c(){n=s("div"),r=s("div"),a=u(y),o=u(": "),h=u(w),g=u(" "),v=f(),m=s("a"),$=u("Click or tap to read story"),d(m,"href",_=t.article.url),d(m,"target","_blank"),d(m,"rel","noopener noreferrer"),d(m,"class","svelte-5ujm7h"),d(r,"class","svelte-5ujm7h"),d(n,"class","article svelte-5ujm7h")},m(e,t){c(e,n,t),l(n,r),l(r,a),l(r,o),l(r,h),l(r,g),l(r,v),l(r,m),l(m,$)},p(e,t){e.article&&y!==(y=new Date(t.article.publishedAt).toLocaleDateString("en-NZ")+"")&&p(a,y),e.article&&w!==(w=t.article.description+"")&&p(h,w),e.article&&_!==(_=t.article.url)&&d(m,"href",_)},i:e,o:e,d(e){e&&i(n)}}}function T(e,t,n){let{article:r}=t;return e.$set=(e=>{"article"in e&&n("article",r=e.article)}),{article:r}}class Z extends F{constructor(e){super(),D(this,e,T,K,o,["article"])}}const G={"New Zealand":"https://newsapi.org/v2/top-headlines?country=nz&apiKey=",BBC:"https://newsapi.org/v2/top-headlines?sources=bbc-news&apiKey=","Al Jazeera":"https://newsapi.org/v2/top-headlines?sources=al-jazeera-english&apiKey=",Reuters:"https://newsapi.org/v2/top-headlines?sources=reuters&apiKey=","National Geographic":"https://newsapi.org/v2/top-headlines?sources=national-geographic&apiKey="},H="027fe0ba771349fa87775b60c62ba426";function I(e,t,n){const r=Object.create(e);return r.article=t[n],r}function J(e){var t,n;return{c(){t=s("h2"),n=u(e.feedName),d(t,"class","svelte-14q7xrp")},m(e,r){c(e,t,r),l(t,n)},p(e,t){e.feedName&&p(n,t.feedName)},d(e){e&&i(t)}}}function O(t){var n;return{c(){(n=s("p")).textContent="Loading...",d(n,"class","loading svelte-14q7xrp")},m(e,t){c(e,n,t)},p:e,d(e){e&&i(n)}}}function P(e){var t,n,r,a=[],o=new Map;let l=e.articles;const u=e=>e.article.title;for(let t=0;t<l.length;t+=1){let n=I(e,l,t),r=u(n);o.set(r,a[t]=R(r,n))}return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=f(),(n=s("div")).innerHTML='<a class="back-to-top-link svelte-14q7xrp" href="#top">Back to Top</a>',d(n,"class","back-to-top-link-container svelte-14q7xrp")},m(e,o){for(let t=0;t<a.length;t+=1)a[t].m(e,o);c(e,t,o),c(e,n,o),r=!0},p(e,n){const r=n.articles;M(),a=function(e,t,n,r,a,o,l,c,i,s,u,f){let d=e.length,p=o.length,h=d;const g={};for(;h--;)g[e[h].key]=h;const v=[],m=new Map,$=new Map;for(h=p;h--;){const e=f(a,o,h),c=n(e);let i=l.get(c);i?r&&i.p(t,e):(i=s(c,e)).c(),m.set(c,v[h]=i),c in g&&$.set(c,Math.abs(h-g[c]))}const _=new Set,y=new Set;function w(e){S(e,1),e.m(c,u),l.set(e.key,e),u=e.first,p--}for(;d&&p;){const t=v[p-1],n=e[d-1],r=t.key,a=n.key;t===n?(u=t.first,d--,p--):m.has(a)?!l.has(r)||_.has(r)?w(t):y.has(a)?d--:$.get(r)>$.get(a)?(y.add(r),w(t)):(_.add(a),d--):(i(n,l),d--)}for(;d--;){const t=e[d];m.has(t.key)||i(t,l)}for(;p;)w(v[p-1]);return v}(a,e,u,1,n,r,o,t.parentNode,B,R,t,I),A()},i(e){if(!r){for(let e=0;e<l.length;e+=1)S(a[e]);r=!0}},o(e){for(let e=0;e<a.length;e+=1)j(a[e]);r=!1},d(e){for(let t=0;t<a.length;t+=1)a[t].d(e);e&&(i(t),i(n))}}}function R(e,t){var n,r,a=new Z({props:{article:t.article}});return{key:e,first:null,c(){n=u(""),a.$$.fragment.c(),this.first=n},m(e,t){c(e,n,t),L(a,e,t),r=!0},p(e,t){var n={};e.articles&&(n.article=t.article),a.$set(n)},i(e){r||(S(a.$$.fragment,e),r=!0)},o(e){j(a.$$.fragment,e),r=!1},d(e){e&&i(n),E(a,e)}}}function Q(e){var t,n,r,a,o,u,p,h,g,v,m,$,_,y,w,x,b,N;function k(e,t){return t.loading?O:""!==t.feedName?J:void 0}var C=k(0,e),q=C&&C(e),B=null!==e.articles&&P(e);return{c(){var l,c,i,b;(t=s("header")).innerHTML='<h1 id="top" class="svelte-14q7xrp">News Feeds</h1>',n=f(),r=s("main"),a=s("div"),o=s("label"),u=s("select"),(p=s("option")).textContent="Select a Feed",(h=s("option")).textContent="New Zealand",(g=s("option")).textContent="BBC News",(v=s("option")).textContent="Al Jazeera",(m=s("option")).textContent="Reuters",($=s("option")).textContent="National Geographic",_=f(),q&&q.c(),y=f(),B&&B.c(),w=f(),(x=s("footer")).innerHTML='<a target="_blank" href="https://newsapi.org/" rel="noopener noreferrer" class="svelte-14q7xrp">\n\t\t\t      Powered by NewsAPI.org\n\t\t\t    </a>',d(t,"class","svelte-14q7xrp"),p.__value="Message",p.value=p.__value,h.__value="New Zealand",h.value=h.__value,g.__value="BBC",g.value=g.__value,v.__value="Al Jazeera",v.value=v.__value,m.__value="Reuters",m.value=m.__value,$.__value="National Geographic",$.value=$.__value,d(u,"id","feeds"),u.value="Message",d(u,"class","svelte-14q7xrp"),d(o,"for","feeds"),d(a,"class","select-style svelte-14q7xrp"),d(x,"class","svelte-14q7xrp"),d(r,"class","container svelte-14q7xrp"),l=u,c="change",i=e.changeFeed,l.addEventListener(c,i,b),N=(()=>l.removeEventListener(c,i,b))},m(e,i){c(e,t,i),c(e,n,i),c(e,r,i),l(r,a),l(a,o),l(o,u),l(u,p),l(u,h),l(u,g),l(u,v),l(u,m),l(u,$),l(r,_),q&&q.m(r,null),l(r,y),B&&B.m(r,null),l(r,w),l(r,x),b=!0},p(e,t){C===(C=k(0,t))&&q?q.p(e,t):(q&&q.d(1),(q=C&&C(t))&&(q.c(),q.m(r,y))),null!==t.articles?B?(B.p(e,t),S(B,1)):((B=P(t)).c(),S(B,1),B.m(r,w)):B&&(M(),j(B,1,1,()=>{B=null}),A())},i(e){b||(S(B),b=!0)},o(e){j(B),b=!1},d(e){e&&(i(t),i(n),i(r)),q&&q.d(),B&&B.d(),N()}}}function U(e,t,n){let r=!1,a="",o=null;function l(e){n("loading",r=!0),fetch(`${e}${H}`).then(e=>e.json()).then(e=>{n("loading",r=!1),n("articles",o=e.articles)}).catch(e=>console.log(e))}return v(()=>{const e=window.localStorage.getItem("favourite");if(e){n("feedName",a=e),l(G[e])}}),{loading:r,feedName:a,articles:o,changeFeed:function(e){e.preventDefault();const t=G[e.target.value];n("feedName",a=e.target.value),l(t),window.localStorage.setItem("favourite",a)}}}return new class extends F{constructor(e){super(),D(this,e,U,Q,o,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
